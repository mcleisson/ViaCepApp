<div class="container mt-4">
  <h1 class="display-4">Detalhes do Contato</h1>
<% if flash[:error] %>
    <div class="alert alert-danger">
      <%= flash[:error] %>
    </div>
  <% end %>
  <div class="card">
    <div class="card-body">
      <h5 class="card-title"><%= @contato.nome %></h5>
      <p class="card-text"><strong>Email:</strong> <%= @contato.email %></p>
      <p class="card-text"><strong>Telefone:</strong> <%= @contato.telefone %></p>
      <p class="card-text"><strong>CPF:</strong> <%= @contato.cpf %></p>
    </div>
  </div>
<div class="card">
    <div class="card-body">
    <div class="mt-3">
      <h4 class="mb-3">Endereço:</h4>
      <address>
        <strong><%= @contato.logradouro %></strong><br>
        <%= @contato.bairro %><br>
        <%= @contato.cidade %>, <%= @contato.estado %><br>
        CEP: <%= @contato.cep %><br>
        LAT: <%= @contato.latitude %><br>
        LONG: <%= @contato.longitude %>
      </address>
    <map>
    <div id="map" style="height: 400px;"></div>
  
    </map>
  </div>

  <%= link_to 'Editar', edit_contato_path(@contato), class: 'btn btn-primary' %>
  <%= link_to 'Voltar', contatos_path, class: 'btn btn-secondary' %>
</div>

<script>

document.addEventListener("DOMContentLoaded", function () {
  var mapDiv = document.getElementById("map");
  var latitude = <%= @contato.latitude %>;
  var longitude = <%= @contato.longitude %>;
  var myLatLng = { lat: latitude, lng: longitude };
  var map = new google.maps.Map(mapDiv, {
    center: myLatLng,
    zoom: 15 
  });

  var marker = new google.maps.Marker({
    position: myLatLng,
    map: map,
    title: 'Localização do Contato'
  });
});

</script>